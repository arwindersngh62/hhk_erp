{% extends 'users/index.html'%}

{% block content%}
<style>
	table,td,th{
		border: 1px solid black;
	}
</style>

<form method="POST">
{% csrf_token %}
<input type="hidden" value="1" name="type">

<table id = "main_table">
	<tr>
	<th>Sr No.</th>
	<th>Item</th>
	<th>Quantity</th>
	<th>Price</th>
	</tr>
</table>  
<input type="Submit" value="Submit" formaction="{%url 'expenditure:gen_exp'%}">
<BUTTON type="button" onclick="myFunction()" id="onebut" name="one_but">Add Field</BUTTON> 
</form>
<script>
	var count = 1;
	function myFunction(){
		var table = document.getElementById("main_table");
		var row = table.insertRow(count);
		var cell0 = row.insertCell(0);
		var cell1 = row.insertCell(1);
		var cell2 = row.insertCell(2);
		var cell3 = row.insertCell(3);
		var cell4 = row.insertCell(4);
		cell0.innerHTML = count;
		
		var t1 = document.createElement("input");
		var t2 = document.createElement("input");
		var t3 = document.createElement("input");
		var t4 = document.createElement("BUTTON");
		
		var t = document.createTextNode("Delete");
		t1.name = "item"+count;
		t1.style.width = "200px";
		t2.name = "qty"+count;
		t2.style.width = "30px";
		t3.name = "price"+count;
		t3.style.width = "30px";
		t1.id = "item"+count;
		t2.id = "qty"+count;
		t3.id = "price"+count;
		t4.id = "but"+count;
		t4.appendChild(t);
		t4.type = "button";
		t4.onclick = function () {
			let ind = count-1;
  			table.deleteRow(ind);
  			count=count-1;
				}	
		cell1.appendChild(t1);
		cell2.appendChild(t2);
		cell3.appendChild(t3);
		cell4.appendChild(t4);
		count++;
	}
	window.onload = myFunction()
</script>
{% endblock %}